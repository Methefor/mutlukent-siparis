<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2563eb">
    <meta name="description" content="Mutlukent SipariÅŸ YÃ¶netim Sistemi">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Mutlukent SipariÅŸ">
    <title>ğŸ“¦ Mutlukent SipariÅŸ YÃ¶netimi</title>
    
    <!-- Favicon (Emoji olarak) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“¦</text></svg>">
    
    <!-- iOS iÃ§in Ã¶zel simgeler -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%232563eb'/><text x='50' y='70' font-size='60' text-anchor='middle' fill='white'>ğŸ“¦</text></svg>">
    
    <style>
        :root {
            --primary-color: #2563eb;
            --primary-dark: #1e40af;
            --secondary-color: #64748b;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --info-color: #3b82f6;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
            padding-bottom: 2rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 2rem 1rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-lg);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        .date-info {
            display: flex;
            gap: 1rem;
            font-size: 0.9rem;
            opacity: 0.95;
        }

        .separator {
            opacity: 0.5;
        }

        /* Alert */
        .alert {
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 4px solid;
        }

        .alert-info {
            background-color: #dbeafe;
            border-color: var(--info-color);
            color: #1e40af;
        }

        .alert strong {
            display: block;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        #todaySuppliers {
            margin-top: 0.5rem;
            font-size: 0.95rem;
        }

        /* Tabs */
        .tabs {
            display: flex;
            overflow-x: auto;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            -webkit-overflow-scrolling: touch;
        }

        .tabs::-webkit-scrollbar {
            height: 4px;
        }

        .tabs::-webkit-scrollbar-track {
            background: var(--border-color);
        }

        .tabs::-webkit-scrollbar-thumb {
            background: var(--secondary-color);
            border-radius: 4px;
        }

        .tab-btn {
            padding: 0.75rem 1.5rem;
            border: 2px solid var(--border-color);
            background-color: white;
            color: var(--text-primary);
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            transition: all 0.2s;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .tab-btn:hover {
            border-color: var(--primary-color);
            background-color: #f0f9ff;
        }

        .tab-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Tab Content */
        .content {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--shadow);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Supplier Header */
        .supplier-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
            flex-wrap: wrap;
            gap: 1rem;
        }

        .supplier-header h2 {
            font-size: 1.75rem;
            color: var(--primary-color);
            font-weight: 700;
        }

        .schedule-info {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .badge {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .badge-write {
            background-color: #fef3c7;
            color: #92400e;
        }

        .badge-delivery {
            background-color: #dcfce7;
            color: #166534;
        }

        /* Category Section */
        .category-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background-color: #f8fafc;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .category-section h3 {
            font-size: 1.25rem;
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        /* Form */
        .order-form {
            margin-top: 1.5rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.25rem;
            margin-bottom: 2rem;
        }

        .form-item {
            display: flex;
            flex-direction: column;
        }

        .form-item label {
            font-size: 0.9rem;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-item input {
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            font-size: 1rem;
            transition: all 0.2s;
            background-color: white;
        }

        .form-item input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .form-item input:hover {
            border-color: var(--primary-color);
        }

        /* Form Actions */
        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            padding-top: 1.5rem;
            border-top: 2px solid var(--border-color);
            flex-wrap: wrap;
        }

        /* Buttons */
        .btn {
            padding: 0.875rem 1.75rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-secondary:hover {
            background-color: #475569;
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background-color: #059669;
        }

        .btn-info {
            background-color: #3b82f6;
            color: white;
        }

        .btn-info:hover {
            background-color: #2563eb;
        }

        .btn-warning {
            background-color: #f59e0b;
            color: white;
        }

        .btn-warning:hover {
            background-color: #d97706;
        }

        /* History Modal */
        .history-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2001;
            padding: 1rem;
        }

        .history-modal.show {
            display: flex;
        }

        .history-content {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            max-width: 800px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }

        .history-content h2 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }

        .history-item {
            border: 2px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .history-item:hover {
            border-color: var(--primary-color);
            background-color: #f0f9ff;
            transform: translateX(5px);
        }

        .history-date {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .history-products {
            font-size: 0.9rem;
            color: var(--text-primary);
        }

        .close-modal {
            float: right;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .close-modal:hover {
            color: var(--danger-color);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 80px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: var(--shadow-lg);
            animation: slideInRight 0.3s ease-out;
            z-index: 1002;
            max-width: 300px;
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background-color: #dc2626;
        }

        /* Success Message */
        .success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--success-color);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: var(--shadow-lg);
            animation: slideInRight 0.3s ease-out;
            z-index: 1001;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Åube SeÃ§im Modal */
        .branch-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 1rem;
        }

        .branch-modal.hidden {
            display: none;
        }

        .branch-content {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            animation: modalSlideUp 0.3s ease-out;
        }

        @keyframes modalSlideUp {
            from {
                transform: translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .branch-content h2 {
            color: var(--primary-color);
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .branch-content p {
            color: var(--text-secondary);
            text-align: center;
            margin-bottom: 2rem;
        }

        .branch-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .branch-btn {
            padding: 1.25rem 1rem;
            border: 3px solid var(--border-color);
            background-color: white;
            color: var(--text-primary);
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.2s;
            text-align: center;
        }

        .branch-btn:hover {
            border-color: var(--primary-color);
            background-color: #f0f9ff;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .branch-btn.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .selected-branch-display {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .selected-branch-display strong {
            font-size: 1.1rem;
        }

        .change-branch-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid white;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .change-branch-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5rem;
            }

            .supplier-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .form-actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .tabs {
                gap: 0.25rem;
            }

            .tab-btn {
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
            }

            .content {
                padding: 1rem;
            }

            .branch-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 1.5rem 1rem;
            }

            .date-info {
                flex-direction: column;
                gap: 0.25rem;
            }

            .separator {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Åube SeÃ§im Modal -->
    <div id="branchModal" class="branch-modal">
        <div class="branch-content">
            <h2>ğŸ¢ Åube SeÃ§imi</h2>
            <p>LÃ¼tfen Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ±z ÅŸubeyi seÃ§in</p>
            <div class="branch-grid">
                <button class="branch-btn" data-branch="Rumeli Ä°skelesi">ğŸ“ Rumeli Ä°skelesi</button>
                <button class="branch-btn" data-branch="Vagon">ğŸš‚ Vagon</button>
                <button class="branch-btn" data-branch="Sahil">ğŸŒŠ Sahil</button>
                <button class="branch-btn" data-branch="TunaBoyu 1">ğŸŸ TunaBoyu 1</button>
                <button class="branch-btn" data-branch="TunaBoyu 2">ğŸŸ TunaBoyu 2</button>
                <button class="branch-btn" data-branch="Millet BahÃ§esi">ğŸŒ³ Millet BahÃ§esi</button>
            </div>
        </div>
    </div>

    <!-- SipariÅŸ GeÃ§miÅŸi Modal -->
    <div id="historyModal" class="history-modal">
        <div class="history-content">
            <span class="close-modal" onclick="closeHistoryModal()">&times;</span>
            <h2>ğŸ“‹ SipariÅŸ GeÃ§miÅŸi</h2>
            <div id="historyList"></div>
        </div>
    </div>

    <!-- Favori Kaydetme Modal -->
    <div id="favoriteModal" class="history-modal">
        <div class="history-content">
            <span class="close-modal" onclick="closeFavoriteModal()">&times;</span>
            <h2>â­ Favoriye Kaydet</h2>
            <p>Bu sipariÅŸe bir isim verin:</p>
            <input type="text" id="favoriteName" placeholder="Ã–rn: HaftalÄ±k Standart SipariÅŸ" style="width: 100%; padding: 0.75rem; margin: 1rem 0; border: 2px solid #e2e8f0; border-radius: 6px; font-size: 1rem;">
            <button class="btn btn-primary" onclick="saveFavoriteOrder()" style="width: 100%;">Kaydet</button>
        </div>
    </div>

    <!-- KullanÄ±m KÄ±lavuzu Modal -->
    <div id="guideModal" class="history-modal">
        <div class="history-content" style="max-width: 900px;">
            <span class="close-modal" onclick="closeGuideModal()">&times;</span>
            <h2>ğŸ“– Mutlukent SipariÅŸ YÃ¶netimi - KullanÄ±m KÄ±lavuzu</h2>
            
            <div style="margin-top: 1.5rem;">
                <h3 style="color: #2563eb; margin-top: 1.5rem;">ğŸ¢ 1. Åube SeÃ§imi</h3>
                <p style="line-height: 1.8; color: #475569;">
                    â€¢ Sisteme ilk giriÅŸte <strong>ÅŸube seÃ§im ekranÄ±</strong> aÃ§Ä±lÄ±r<br>
                    â€¢ 6 ÅŸube arasÄ±ndan Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ±z ÅŸubeyi seÃ§in: Rumeli Ä°skelesi, Vagon, Sahil, TunaBoyu 1, TunaBoyu 2, Millet BahÃ§esi<br>
                    â€¢ SeÃ§iminiz <strong>otomatik kaydedilir</strong>, bir daha sormaz<br>
                    â€¢ Åube deÄŸiÅŸtirmek iÃ§in Ã¼stteki <strong>"Åube DeÄŸiÅŸtir"</strong> butonunu kullanÄ±n
                </p>

                <h3 style="color: #2563eb; margin-top: 1.5rem;">ğŸ“‹ 2. SipariÅŸ Verme</h3>
                <p style="line-height: 1.8; color: #475569;">
                    â€¢ Ãœst menÃ¼den <strong>firma seÃ§in</strong> (Ã–ztÃ¼rkler, Kadir Kasap, vb.)<br>
                    â€¢ ÃœrÃ¼n miktarlarÄ±nÄ± girin (ok tuÅŸlarÄ± ile artÄ±rabilirsiniz)<br>
                    â€¢ <strong>Ã–zel artÄ±ÅŸlar:</strong> Patates 2.5 kg, Manav Ã¼rÃ¼nleri 0.5 kg artÄ±ÅŸlarla<br>
                    â€¢ Her Ã¼rÃ¼nÃ¼n yanÄ±nda <strong>emoji simgesi</strong> vardÄ±r
                </p>

                <h3 style="color: #2563eb; margin-top: 1.5rem;">ğŸ”˜ 3. Buton AÃ§Ä±klamalarÄ±</h3>
                <div style="background: #f8fafc; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                    <p style="margin: 0.5rem 0;"><strong>ğŸ“¥ Son SipariÅŸi YÃ¼kle:</strong> Bu firmaya verdiÄŸiniz en son sipariÅŸi yÃ¼kler</p>
                    <p style="margin: 0.5rem 0;"><strong>ğŸ“‹ GeÃ§miÅŸ:</strong> Son 10 sipariÅŸi gÃ¶sterir, istediÄŸinizi seÃ§ip yÃ¼kleyebilirsiniz</p>
                    <p style="margin: 0.5rem 0;"><strong>â­ Favorilere Ekle:</strong> SÄ±k kullandÄ±ÄŸÄ±nÄ±z sipariÅŸi kaydedin (max 5 favori)</p>
                    <p style="margin: 0.5rem 0;"><strong>ğŸ—‘ï¸ Temizle:</strong> Formdaki tÃ¼m miktarlarÄ± siler</p>
                    <p style="margin: 0.5rem 0;"><strong>ğŸ’¾ SipariÅŸi Kaydet:</strong> SipariÅŸi sisteme kaydeder</p>
                    <p style="margin: 0.5rem 0;"><strong>ğŸ“± WhatsApp'a GÃ¶nder:</strong> SipariÅŸi WhatsApp'tan tedarikÃ§iye gÃ¶nderin</p>
                </div>

                <h3 style="color: #2563eb; margin-top: 1.5rem;">ğŸ“± 4. WhatsApp MesajÄ±</h3>
                <p style="line-height: 1.8; color: #475569;">
                    â€¢ Mesaj formatÄ±: <strong>[Åube AdÄ±] [Firma AdÄ±]</strong><br>
                    â€¢ Ã–rnek: "Rumeli Ä°skelesi Ã–ztÃ¼rkler"<br>
                    â€¢ Her Ã¼rÃ¼n: <strong>Emoji + ÃœrÃ¼n + Miktar + Birim</strong><br>
                    â€¢ Ã–rnek: "ğŸŸ Patates kÄ±zartmasÄ±: 10 kg"<br>
                    â€¢ Åube seÃ§iminize gÃ¶re <strong>otomatik</strong> mesaj oluÅŸturulur
                </p>

                <h3 style="color: #2563eb; margin-top: 1.5rem;">â­ 5. Favori SipariÅŸler</h3>
                <p style="line-height: 1.8; color: #475569;">
                    â€¢ SÄ±k kullandÄ±ÄŸÄ±nÄ±z sipariÅŸi <strong>favorilere kaydedin</strong><br>
                    â€¢ Ãœstte <strong>sarÄ± kutuda</strong> favorileriniz gÃ¶rÃ¼nÃ¼r<br>
                    â€¢ Tek tÄ±kla favorinizi yÃ¼kleyin<br>
                    â€¢ <strong>ğŸ—‘ï¸ YÃ¶net</strong> butonu ile favorilerinizi silebilirsiniz<br>
                    â€¢ En fazla <strong>5 favori</strong> kaydedebilirsiniz
                </p>

                <h3 style="color: #2563eb; margin-top: 1.5rem;">ğŸ“Š 6. SipariÅŸ GeÃ§miÅŸi</h3>
                <p style="line-height: 1.8; color: #475569;">
                    â€¢ <strong>ğŸ“‹ GeÃ§miÅŸ</strong> butonu ile son 10 sipariÅŸinizi gÃ¶rÃ¼n<br>
                    â€¢ Tarih ve saat bilgisiyle listelenir<br>
                    â€¢ Ä°stediÄŸinize <strong>tÄ±klayarak</strong> formu otomatik doldurun<br>
                    â€¢ GeÃ§miÅŸ sipariÅŸler <strong>tarayÄ±cÄ±nÄ±zda</strong> saklanÄ±r
                </p>

                <h3 style="color: #2563eb; margin-top: 1.5rem;">ğŸ”” 7. HatÄ±rlatÄ±cÄ±lar</h3>
                <p style="line-height: 1.8; color: #475569;">
                    â€¢ <strong>Ãœstteki mavi kutu:</strong> BugÃ¼n hangi firmalara sipariÅŸ verilecek gÃ¶sterir<br>
                    â€¢ Her sabah <strong>saat 9:00'da</strong> tarayÄ±cÄ± bildirimi gelir<br>
                    â€¢ Ä°lk giriÅŸte <strong>bildirim izni</strong> vermeyi unutmayÄ±n!<br>
                    â€¢ Bildirimleri gÃ¶rmek iÃ§in tarayÄ±cÄ±nÄ±zÄ±n <strong>ayarlarÄ±nÄ±</strong> kontrol edin
                </p>

                <h3 style="color: #2563eb; margin-top: 1.5rem;">ğŸ“… 8. SipariÅŸ Takvimleri</h3>
                <div style="background: #f8fafc; padding: 1rem; border-radius: 8px; margin: 1rem 0; font-size: 0.9rem;">
                    <p style="margin: 0.5rem 0;"><strong>Ã–ztÃ¼rkler:</strong> Pzt-PrÅŸ yazÄ±lÄ±r â†’ Sal-Cum gelir</p>
                    <p style="margin: 0.5rem 0;"><strong>DiÄŸer firmalar:</strong> Sal-PrÅŸ-Paz yazÄ±lÄ±r â†’ Ertesi gÃ¼n gelir</p>
                    <p style="margin: 0.5rem 0;"><strong>AltÄ±nbaÅŸak:</strong> Her gÃ¼n yazÄ±lÄ±r â†’ 2 gÃ¼n sonra gelir</p>
                </div>

                <h3 style="color: #2563eb; margin-top: 1.5rem;">ğŸ’¡ 9. Ä°puÃ§larÄ±</h3>
                <p style="line-height: 1.8; color: #475569;">
                    â€¢ <strong>Ctrl + S:</strong> HÄ±zlÄ± kaydetme kÄ±sayolu<br>
                    â€¢ Verileriniz <strong>tarayÄ±cÄ±nÄ±zda</strong> saklanÄ±r, internet gerektirmez<br>
                    â€¢ <strong>Ana ekrana ekleyin</strong> uygulama gibi kullanÄ±n<br>
                    â€¢ TarayÄ±cÄ± Ã¶nbelleÄŸini temizlerseniz veriler silinir<br>
                    â€¢ TÃ¼m ÅŸubeler <strong>aynÄ± linki</strong> kullanabilir
                </p>

                <h3 style="color: #2563eb; margin-top: 1.5rem;">ğŸ†˜ 10. Sorun mu Var?</h3>
                <p style="line-height: 1.8; color: #475569;">
                    â€¢ Butonlar Ã§alÄ±ÅŸmÄ±yorsa: SayfayÄ± <strong>yenileyin</strong><br>
                    â€¢ Veriler kayboldu: <strong>TarayÄ±cÄ± Ã¶nbelleÄŸi</strong> temizlenmiÅŸ olabilir<br>
                    â€¢ WhatsApp aÃ§Ä±lmÄ±yor: <strong>Popup engelleyiciyi</strong> kapatÄ±n<br>
                    â€¢ Bildirim gelmiyor: TarayÄ±cÄ± ayarlarÄ±ndan <strong>izin verin</strong>
                </p>

                <div style="background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%); color: white; padding: 1.5rem; border-radius: 8px; margin-top: 2rem; text-align: center;">
                    <h3 style="color: white; margin-bottom: 0.5rem;">ğŸ¯ BaÅŸarÄ±lÄ± SipariÅŸ YÃ¶netimi!</h3>
                    <p style="margin: 0; opacity: 0.9;">SorularÄ±nÄ±z iÃ§in Metehan Arslan - Mesul MÃ¼dÃ¼r ile iletiÅŸime geÃ§in</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>ğŸ“¦ Mutlukent SipariÅŸ YÃ¶netimi</h1>
                <p class="subtitle">Mutlukent Esenlik Hizmetleri A.Å.</p>
                <div class="date-info">
                    <span id="currentDate"></span>
                    <span class="separator">|</span>
                    <span id="currentDay"></span>
                </div>
            </div>
        </header>

        <!-- SeÃ§ili Åube GÃ¶sterimi -->
        <div id="selectedBranchDisplay" class="selected-branch-display" style="display: none;">
            <div>
                <strong>ğŸ¢ Åube: <span id="selectedBranchName"></span></strong>
            </div>
            <div style="display: flex; gap: 0.5rem;">
                <button class="change-branch-btn" onclick="showUserGuide()">â“ NasÄ±l KullanÄ±lÄ±r?</button>
                <button class="change-branch-btn" onclick="changeBranch()">Åube DeÄŸiÅŸtir</button>
            </div>
        </div>

        <!-- BugÃ¼nÃ¼n SipariÅŸleri Alert -->
        <div id="todayAlert" class="alert alert-info">
            <strong>ğŸ“¢ BugÃ¼n SipariÅŸ Verilecek Firmalar:</strong>
            <div id="todaySuppliers"></div>
        </div>

        <!-- Favori SipariÅŸler -->
        <div id="favoritesSection" style="display: none; margin-bottom: 1.5rem;">
            <div style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); color: white; padding: 1rem 1.5rem; border-radius: 8px;">
                <strong>â­ Favori SipariÅŸler:</strong>
                <div id="favoritesList" style="margin-top: 0.5rem; display: flex; gap: 0.5rem; flex-wrap: wrap;"></div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="ozturkler">Ã–ztÃ¼rkler</button>
            <button class="tab-btn" data-tab="kasap">Kadir Kasap</button>
            <button class="tab-btn" data-tab="atikler">Atikler</button>
            <button class="tab-btn" data-tab="ozgullu">Ã–zgÃ¼llÃ¼</button>
            <button class="tab-btn" data-tab="manav">Manav</button>
            <button class="tab-btn" data-tab="seref">Åeref</button>
            <button class="tab-btn" data-tab="esenler">Esenler</button>
            <button class="tab-btn" data-tab="altinbasak">AltÄ±nbaÅŸak</button>
            <button class="tab-btn" data-tab="depo">Depo</button>
        </div>

        <!-- SipariÅŸ FormlarÄ± -->
        <div class="content">
            <!-- Ã–ztÃ¼rkler -->
            <div id="ozturkler" class="tab-content active">
                <div class="supplier-header">
                    <h2>ğŸ§€ Ã–ztÃ¼rkler</h2>
                    <div class="schedule-info">
                        <span class="badge badge-write">YazÄ±lÄ±r: Pzt-PrÅŸ</span>
                        <span class="badge badge-delivery">Gelir: Sal-Cum</span>
                    </div>
                </div>
                <form class="order-form" data-supplier="ozturkler">
                    <div class="form-grid">
                        <div class="form-item">
                            <label>Patates KÄ±zartmasÄ± (kg)</label>
                            <input type="number" step="2.5" name="patates" data-product="Patates kÄ±zartmasÄ±" data-unit="kg">
                        </div>
                        <div class="form-item">
                            <label>Beyaz Peynir (kalÄ±p)</label>
                            <input type="number" name="beyaz_peynir" data-product="Beyaz peynir" data-unit="kalÄ±p">
                        </div>
                        <div class="form-item">
                            <label>KahvaltÄ±lÄ±k KaÅŸar (kg)</label>
                            <input type="number"  name="kahvaltilik_kasar" data-product="KahvaltÄ±lÄ±k KaÅŸar" data-unit="kg">
                        </div>
                        <div class="form-item">
                            <label>Tostluk KaÅŸar (kg)</label>
                            <input type="number"  name="tostluk_kasar" data-product="Tostluk kaÅŸar" data-unit="kg">
                        </div>
                        <div class="form-item">
                            <label>Hindi FÃ¼me Salam (paket)</label>
                            <input type="number" name="hindi_salam" data-product="Hindi fÃ¼me salam" data-unit="paket">
                        </div>
                        <div class="form-item">
                            <label>TereyaÄŸ (kg)</label>
                            <input type="number"  name="tereyag" data-product="TereyaÄŸ" data-unit="kg">
                        </div>
                        <div class="form-item">
                            <label>Margarin (kg)</label>
                            <input type="number"  name="margarin" data-product="Margarin" data-unit="kg">
                        </div>
                        <div class="form-item">
                            <label>Stick KetÃ§ap (koli)</label>
                            <input type="number" name="stick_ketcap" data-product="Stick ketÃ§ap" data-unit="koli">
                        </div>
                        <div class="form-item">
                            <label>Stick Mayonez (koli)</label>
                            <input type="number" name="stick_mayonez" data-product="Stick mayonez" data-unit="koli">
                        </div>
                        <div class="form-item">
                            <label>Kova KetÃ§ap (adet)</label>
                            <input type="number" name="kova_ketcap" data-product="Kova ketÃ§ap" data-unit="adet">
                        </div>
                        <div class="form-item">
                            <label>Kova Mayonez (adet)</label>
                            <input type="number" name="kova_mayonez" data-product="Kova mayonez" data-unit="adet">
                        </div>
                        <div class="form-item">
                            <label>SÃ¼t (lt)</label>
                            <input type="number"  name="sut" data-product="SÃ¼t" data-unit="lt">
                        </div>
                        <div class="form-item">
                            <label>Piknik TereyaÄŸ (koli)</label>
                            <input type="number" name="piknik_tereyag" data-product="Piknik tereyaÄŸ" data-unit="koli">
                        </div>
                        <div class="form-item">
                            <label>Piknik Bal (koli)</label>
                            <input type="number" name="piknik_bal" data-product="Piknik Bal" data-unit="koli">
                        </div>
                        <div class="form-item">
                            <label>Piknik ReÃ§el (koli)</label>
                            <input type="number" name="piknik_recel" data-product="Piknik reÃ§el" data-unit="koli">
                        </div>
                        <div class="form-item">
                            <label>Piknik FÄ±ndÄ±k KremasÄ± (koli)</label>
                            <input type="number" name="piknik_findik" data-product="Piknik fÄ±ndÄ±k kremasÄ±" data-unit="koli">
                        </div>
                        <div class="form-item">
                            <label>Lutenitsa (adet)</label>
                            <input type="number" name="lutenitsa" data-product="Lutenitsa" data-unit="adet">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary load-last">Son SipariÅŸi YÃ¼kle</button>
                        <button type="button" class="btn btn-danger clear-form">Temizle</button>
                        <button type="button" class="btn btn-primary save-order">SipariÅŸi Kaydet</button>
                        <button type="button" class="btn btn-success send-order">WhatsApp'a GÃ¶nder</button>
                    </div>
                </form>
            </div>

            <!-- Kadir Kasap -->
            <div id="kasap" class="tab-content">
                <div class="supplier-header">
                    <h2>ğŸ¥© Kadir Kasap</h2>
                    <div class="schedule-info">
                        <span class="badge badge-write">YazÄ±lÄ±r: Sal-PrÅŸ-Paz</span>
                        <span class="badge badge-delivery">Gelir: Ertesi GÃ¼n</span>
                    </div>
                </div>
                <form class="order-form" data-supplier="kasap">
                    <div class="form-grid">
                        <div class="form-item">
                            <label>Hamburger KÃ¶ftesi (kg)</label>
                            <input type="number"  name="hamburger" data-product="Hamburger kÃ¶ftesi" data-unit="kg">
                        </div>
                        <div class="form-item">
                            <label>Tostluk Sucuk (kg)</label>
                            <input type="number"  name="tostluk_sucuk" data-product="Tostluk sucuk" data-unit="kg">
                        </div>
                        <div class="form-item">
                            <label>KahvaltÄ±lÄ±k Sucuk (kg)</label>
                            <input type="number"  name="kahvaltilik_sucuk" data-product="KahvaltÄ±lÄ±k sucuk" data-unit="kg">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary load-last">Son SipariÅŸi YÃ¼kle</button>
                        <button type="button" class="btn btn-danger clear-form">Temizle</button>
                        <button type="button" class="btn btn-primary save-order">SipariÅŸi Kaydet</button>
                        <button type="button" class="btn btn-success send-order">WhatsApp'a GÃ¶nder</button>
                    </div>
                </form>
            </div>

            <!-- Atikler -->
            <div id="atikler" class="tab-content">
                <div class="supplier-header">
                    <h2>ğŸ¥š Atikler</h2>
                    <div class="schedule-info">
                        <span class="badge badge-write">YazÄ±lÄ±r: Sal-PrÅŸ-Paz</span>
                        <span class="badge badge-delivery">Gelir: Ertesi GÃ¼n</span>
                    </div>
                </div>
                <form class="order-form" data-supplier="atikler">
                    <div class="form-grid">
                        <div class="form-item">
                            <label>Yumurta (adet)</label>
                            <input type="number" name="yumurta" data-product="Yumurta" data-unit="adet">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary load-last">Son SipariÅŸi YÃ¼kle</button>
                        <button type="button" class="btn btn-danger clear-form">Temizle</button>
                        <button type="button" class="btn btn-primary save-order">SipariÅŸi Kaydet</button>
                        <button type="button" class="btn btn-success send-order">WhatsApp'a GÃ¶nder</button>
                    </div>
                </form>
            </div>

            <!-- Ã–zgÃ¼llÃ¼ -->
            <div id="ozgullu" class="tab-content">
                <div class="supplier-header">
                    <h2>ğŸ¥› Ã–zgÃ¼llÃ¼</h2>
                    <div class="schedule-info">
                        <span class="badge badge-write">YazÄ±lÄ±r: Sal-PrÅŸ-Paz</span>
                        <span class="badge badge-delivery">Gelir: Ertesi GÃ¼n</span>
                    </div>
                </div>
                <form class="order-form" data-supplier="ozgullu">
                    <div class="form-grid">
                        <div class="form-item">
                            <label>Ayran (koli)</label>
                            <input type="number" name="ayran" data-product="Ayran" data-unit="koli">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary load-last">Son SipariÅŸi YÃ¼kle</button>
                        <button type="button" class="btn btn-danger clear-form">Temizle</button>
                        <button type="button" class="btn btn-primary save-order">SipariÅŸi Kaydet</button>
                        <button type="button" class="btn btn-success send-order">WhatsApp'a GÃ¶nder</button>
                    </div>
                </form>
            </div>

            <!-- Manav -->
            <div id="manav" class="tab-content">
                <div class="supplier-header">
                    <h2>ğŸ¥¬ Manav</h2>
                    <div class="schedule-info">
                        <span class="badge badge-write">YazÄ±lÄ±r: Sal-PrÅŸ-Paz</span>
                        <span class="badge badge-delivery">Gelir: Ertesi GÃ¼n</span>
                    </div>
                </div>
                <form class="order-form" data-supplier="manav">
                    <div class="form-grid">
                        <div class="form-item">
                            <label>Domates (kg)</label>
                            <input type="number" step="0.5" name="domates" data-product="Domates" data-unit="kg">
                        </div>
                        <div class="form-item">
                            <label>SalatalÄ±k (kg)</label>
                            <input type="number" step="0.5" name="salatalik" data-product="SalatalÄ±k" data-unit="kg">
                        </div>
                        <div class="form-item">
                            <label>KÄ±vÄ±rcÄ±k (dip)</label>
                            <input type="number" name="kivircik" data-product="KÄ±vÄ±rcÄ±k" data-unit="dip">
                        </div>
                        <div class="form-item">
                            <label>Limon (kg)</label>
                            <input type="number" step="0.5" name="limon" data-product="Limon" data-unit="kg">
                        </div>
                        <div class="form-item">
                            <label>SoÄŸan (kg)</label>
                            <input type="number" step="0.5" name="sogan" data-product="SoÄŸan" data-unit="kg">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary load-last">Son SipariÅŸi YÃ¼kle</button>
                        <button type="button" class="btn btn-danger clear-form">Temizle</button>
                        <button type="button" class="btn btn-primary save-order">SipariÅŸi Kaydet</button>
                        <button type="button" class="btn btn-success send-order">WhatsApp'a GÃ¶nder</button>
                    </div>
                </form>
            </div>

            <!-- Åeref -->
            <div id="seref" class="tab-content">
                <div class="supplier-header">
                    <h2>ğŸ¯ Åeref</h2>
                    <div class="schedule-info">
                        <span class="badge badge-write">YazÄ±lÄ±r: Sal-PrÅŸ-Paz</span>
                        <span class="badge badge-delivery">Gelir: Ertesi GÃ¼n</span>
                    </div>
                </div>
                <form class="order-form" data-supplier="seref">
                    <div class="form-grid">
                        <div class="form-item">
                            <label>Peynir HelvasÄ± (kg)</label>
                            <input type="number"  name="peynir_helvasi" data-product="Peynir helvasÄ±" data-unit="kg">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary load-last">Son SipariÅŸi YÃ¼kle</button>
                        <button type="button" class="btn btn-danger clear-form">Temizle</button>
                        <button type="button" class="btn btn-primary save-order">SipariÅŸi Kaydet</button>
                        <button type="button" class="btn btn-success send-order">WhatsApp'a GÃ¶nder</button>
                    </div>
                </form>
            </div>

            <!-- Esenler -->
            <div id="esenler" class="tab-content">
                <div class="supplier-header">
                    <h2>ğŸ” Esenler</h2>
                    <div class="schedule-info">
                        <span class="badge badge-write">YazÄ±lÄ±r: Sal-PrÅŸ-Paz</span>
                        <span class="badge badge-delivery">Gelir: Ertesi GÃ¼n</span>
                    </div>
                </div>
                <form class="order-form" data-supplier="esenler">
                    <div class="form-grid">
                        <div class="form-item">
                            <label>Hamburger EkmeÄŸi (adet)</label>
                            <input type="number" name="hamburger_ekmek" data-product="Hamburger ekmeÄŸi" data-unit="adet">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary load-last">Son SipariÅŸi YÃ¼kle</button>
                        <button type="button" class="btn btn-danger clear-form">Temizle</button>
                        <button type="button" class="btn btn-primary save-order">SipariÅŸi Kaydet</button>
                        <button type="button" class="btn btn-success send-order">WhatsApp'a GÃ¶nder</button>
                    </div>
                </form>
            </div>

            <!-- AltÄ±nbaÅŸak -->
            <div id="altinbasak" class="tab-content">
                <div class="supplier-header">
                    <h2>ğŸŒ­ AltÄ±nbaÅŸak</h2>
                    <div class="schedule-info">
                        <span class="badge badge-write">YazÄ±lÄ±r: Her GÃ¼n</span>
                        <span class="badge badge-delivery">Gelir: 2 GÃ¼n Sonra</span>
                    </div>
                </div>
                <form class="order-form" data-supplier="altinbasak">
                    <div class="form-grid">
                        <div class="form-item">
                            <label>Sosisli EkmeÄŸi (adet)</label>
                            <input type="number" name="sosisli_ekmek" data-product="Sosisli ekmeÄŸi" data-unit="adet">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary load-last">Son SipariÅŸi YÃ¼kle</button>
                        <button type="button" class="btn btn-danger clear-form">Temizle</button>
                        <button type="button" class="btn btn-primary save-order">SipariÅŸi Kaydet</button>
                        <button type="button" class="btn btn-success send-order">WhatsApp'a GÃ¶nder</button>
                    </div>
                </form>
            </div>

            <!-- Depo -->
            <div id="depo" class="tab-content">
                <div class="supplier-header">
                    <h2>ğŸ“¦ Depo SipariÅŸleri</h2>
                    <div class="schedule-info">
                        <span class="badge badge-write">YazÄ±lÄ±r: Sal-PrÅŸ-Paz</span>
                        <span class="badge badge-delivery">Gelir: Ertesi GÃ¼n</span>
                    </div>
                </div>
                <form class="order-form" data-supplier="depo">
                    <div class="category-section">
                        <h3>ğŸ Ekmek & Ã‡ay Malzemeleri</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>Tost EkmeÄŸi (paket)</label><input type="number" name="tost_ekmek" data-product="Tost ekmeÄŸi"></div>
                            <div class="form-item"><label>Ã‡ay (koli)</label><input type="number" name="cay" data-product="Ã‡ay"></div>
                            <div class="form-item"><label>Stick Åeker (koli)</label><input type="number" name="stick_seker" data-product="Stick ÅŸeker"></div>
                            <div class="form-item"><label>Stick Tuz (adet)</label><input type="number" name="stick_tuz" data-product="Stick tuz"></div>
                            <div class="form-item"><label>Sigara BÃ¶reÄŸi (koli)</label><input type="number" name="sigara_boregi" data-product="Sigara bÃ¶reÄŸi"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>ğŸ’§ Su & Ä°Ã§ecekler</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>Bardak Su (koli)</label><input type="number" name="bardak_su" data-product="Bardak su"></div>
                            <div class="form-item"><label>Damacana Su (adet)</label><input type="number" name="damacana_su" data-product="Damacana su"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>ğŸ¥¤ SoÄŸuk Ä°Ã§ecekler</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>Fuse Tea Karpuz</label><input type="number" name="fuse_karpuz" data-product="Fuse tea karpuz"></div>
                            <div class="form-item"><label>Fuse Tea Limon</label><input type="number" name="fuse_limon" data-product="Fuse tea limon"></div>
                            <div class="form-item"><label>Fuse Tea Mango</label><input type="number" name="fuse_mango" data-product="Fuse tea mango"></div>
                            <div class="form-item"><label>Fuse Tea Åeftali</label><input type="number" name="fuse_seftali" data-product="Fuse tea ÅŸeftali"></div>
                            <div class="form-item"><label>ÃœzÃ¼m Suyu</label><input type="number" name="uzum_suyu" data-product="ÃœzÃ¼m suyu"></div>
                            <div class="form-item"><label>Hardaliye</label><input type="number" name="hardaliye" data-product="Hardaliye"></div>
                            <div class="form-item"><label>Coca Cola Kutu</label><input type="number" name="cola_kutu" data-product="Coca cola kutu"></div>
                            <div class="form-item"><label>Coca Cola ÅiÅŸe</label><input type="number" name="cola_sise" data-product="Coca cola ÅŸiÅŸe"></div>
                            <div class="form-item"><label>Sade Soda</label><input type="number" name="sade_soda" data-product="Sade soda"></div>
                            <div class="form-item"><label>Karpuz Ã‡ilek Soda</label><input type="number" name="karpuz_soda" data-product="Karpuz Ã§ilek soda"></div>
                            <div class="form-item"><label>Limonlu Soda</label><input type="number" name="limon_soda" data-product="Limonlu soda"></div>
                            <div class="form-item"><label>ElmalÄ± Soda</label><input type="number" name="elma_soda" data-product="ElmalÄ± soda"></div>
                            <div class="form-item"><label>Limonata (koli)</label><input type="number" name="limonata" data-product="Limonata"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>ğŸ§ƒ Meyve SularÄ±</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>Cappy Kutu Åeftali</label><input type="number" name="cappy_seftali" data-product="Cappy kutu ÅŸeftali"></div>
                            <div class="form-item"><label>Cappy Kutu ViÅŸne</label><input type="number" name="cappy_visne" data-product="Cappy kutu viÅŸne"></div>
                            <div class="form-item"><label>Cappy Kutu KayÄ±sÄ±</label><input type="number" name="cappy_kayisi" data-product="Cappy kutu kayÄ±sÄ±"></div>
                            <div class="form-item"><label>Cappy Kutu Portakal</label><input type="number" name="cappy_portakal" data-product="Cappy kutu portakal"></div>
                            <div class="form-item"><label>Cappy Kutu KarÄ±ÅŸÄ±k</label><input type="number" name="cappy_karisik" data-product="Cappy kutu karÄ±ÅŸÄ±k"></div>
                            <div class="form-item"><label>Poli Kivi</label><input type="number" name="poli_kivi" data-product="Poli kivi"></div>
                            <div class="form-item"><label>Poli Karadut</label><input type="number" name="poli_karadut" data-product="Poli karadut"></div>
                            <div class="form-item"><label>Poli Portakal</label><input type="number" name="poli_portakal" data-product="Poli portakal"></div>
                            <div class="form-item"><label>Poli KuÅŸburnu</label><input type="number" name="poli_kusburnu" data-product="Poli kuÅŸburnu"></div>
                            <div class="form-item"><label>Poli Elma</label><input type="number" name="poli_elma" data-product="Poli elma"></div>
                            <div class="form-item"><label>Poli Nane Limon</label><input type="number" name="poli_nane" data-product="Poli nane limon"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>â˜• Nescafe & Kahve</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>TÃ¼rk Kahvesi (kg)</label><input type="number" name="turk_kahve" data-product="TÃ¼rk kahvesi" data-unit="kg"></div>
                            <div class="form-item"><label>Kesme Åeker (adet)</label><input type="number" name="kesme_seker" data-product="Kesme ÅŸeker"></div>
                            <div class="form-item"><label>Nescafe Express Vanilya</label><input type="number" name="nescafe_vanilya" data-product="Nescafe express vanilia"></div>
                            <div class="form-item"><label>Nescafe Express Orjinal</label><input type="number" name="nescafe_orjinal" data-product="Nescafe express orjinal"></div>
                            <div class="form-item"><label>Nescafe Express Latte</label><input type="number" name="nescafe_latte" data-product="Nescafe express latte"></div>
                            <div class="form-item"><label>Nescafe Express Choco</label><input type="number" name="nescafe_choco" data-product="Nescafe express choco"></div>
                            <div class="form-item"><label>Nescafe Express Americano</label><input type="number" name="nescafe_americano" data-product="Nescafe express americano"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>â˜• Nescafe Alegria</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>Nescafe Intense (kg)</label><input type="number"  name="alegria_intense" data-product="Nescafe intense"></div>
                            <div class="form-item"><label>Nescafe SÃ¼tlÃ¼ (kg)</label><input type="number"  name="alegria_sutlu" data-product="Nescafe sÃ¼tlÃ¼"></div>
                            <div class="form-item"><label>Nescafe Caramel (kg)</label><input type="number"  name="alegria_caramel" data-product="Nescafe caramel"></div>
                            <div class="form-item"><label>Nescafe Vanilya (kg)</label><input type="number"  name="alegria_vanilya_kg" data-product="Nescafe vanilya"></div>
                            <div class="form-item"><label>SÄ±cak Ã‡ikolata (kg)</label><input type="number"  name="alegria_sicak_ciko" data-product="SÄ±cak Ã‡ikolata"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>â˜• Nescafe Ã‡ekirdek</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>Nescafe Superiore (kg)</label><input type="number"  name="cekirdek_superiore" data-product="Nescafe Superiore"></div>
                            <div class="form-item"><label>Nescafe Milky Creamer (kg)</label><input type="number"  name="cekirdek_milky" data-product="Nescafe Milky creamer"></div>
                            <div class="form-item"><label>Nescafe SÄ±cak Ã‡ikolata (kg)</label><input type="number"  name="cekirdek_ciko" data-product="Nescafe sÄ±cak Ã§ikolata"></div>
                            <div class="form-item"><label>Nescafe Cappucino Vanilya (kg)</label><input type="number"  name="cekirdek_cap_vanilya" data-product="Nescafe cappucino vanilya"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>ğŸ§¼ Temizlik Malzemeleri</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>BulaÅŸÄ±k Mak. ParlatÄ±cÄ± (galon)</label><input type="number" name="parlatici" data-product="BulaÅŸÄ±k makinesi parlatÄ±cÄ±sÄ±"></div>
                            <div class="form-item"><label>BulaÅŸÄ±k Mak. Deterjan (galon)</label><input type="number" name="deterjan" data-product="BulaÅŸÄ±k makinesi deterjanÄ±"></div>
                            <div class="form-item"><label>Ã‡amaÅŸÄ±r Suyu (galon)</label><input type="number" name="camasir_suyu" data-product="Ã‡amaÅŸÄ±r suyu"></div>
                            <div class="form-item"><label>WC Rulo Havlu (koli)</label><input type="number" name="wc_havlu" data-product="Wc rulo havlu kaÄŸÄ±t"></div>
                            <div class="form-item"><label>SarÄ± GÃ¼Ã§ (adet)</label><input type="number" name="sari_guc" data-product="SarÄ± gÃ¼Ã§"></div>
                            <div class="form-item"><label>Camsil (adet)</label><input type="number" name="camsil" data-product="Camsil"></div>
                            <div class="form-item"><label>PorÃ§Ã¶z (adet)</label><input type="number" name="porcoz" data-product="PorÃ§Ã¶z"></div>
                            <div class="form-item"><label>Temizlik Bezi (adet)</label><input type="number" name="temizlik_bezi" data-product="Temizlik bezi"></div>
                            <div class="form-item"><label>Vileda PaspasÄ± (adet)</label><input type="number" name="vileda" data-product="Vileda paspasÄ±"></div>
                            <div class="form-item"><label>Mob PaspasÄ± (adet)</label><input type="number" name="mob_paspas" data-product="Mob paspasÄ±"></div>
                            <div class="form-item"><label>BulaÅŸÄ±k Teli (adet)</label><input type="number" name="bulasik_teli" data-product="BulaÅŸÄ±k teli"></div>
                            <div class="form-item"><label>BulaÅŸÄ±k SÃ¼ngeri (adet)</label><input type="number" name="bulasik_sunger" data-product="BulaÅŸÄ±k sÃ¼ngeri"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>ğŸ½ï¸ Sofra & Servis Malzemeleri</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>ÃœstÃ¼bÃ¼ (adet)</label><input type="number" name="ustubu" data-product="ÃœstÃ¼bÃ¼"></div>
                            <div class="form-item"><label>Ã‡ips Ã‡atalÄ± (adet)</label><input type="number" name="cips_catal" data-product="Ã‡ips Ã§atalÄ±"></div>
                            <div class="form-item"><label>Servis PeÃ§etesi (adet)</label><input type="number" name="servis_pecete" data-product="Servis peÃ§etesi"></div>
                            <div class="form-item"><label>Ã‡ay BardaÄŸÄ± (adet)</label><input type="number" name="cay_bardak" data-product="Ã‡ay bardaÄŸÄ±"></div>
                            <div class="form-item"><label>Ã‡ay KaÅŸÄ±ÄŸÄ± (adet)</label><input type="number" name="cay_kasik" data-product="Ã‡ay kaÅŸÄ±ÄŸÄ±"></div>
                            <div class="form-item"><label>Ã‡ay AltlÄ±ÄŸÄ± (adet)</label><input type="number" name="cay_altlik" data-product="Ã‡ay altlÄ±ÄŸÄ±"></div>
                            <div class="form-item"><label>TÃ¼rk Kahvesi FincanÄ± (adet)</label><input type="number" name="turk_fincan" data-product="TÃ¼rk kahvesi fincanÄ±"></div>
                            <div class="form-item"><label>KÃ¶pÃ¼k Tabak (adet)</label><input type="number" name="kopuk_tabak" data-product="KÃ¶pÃ¼k tabak"></div>
                            <div class="form-item"><label>Plastik Ã‡atal (paket)</label><input type="number" name="plastik_catal" data-product="Plastik Ã§atal"></div>
                            <div class="form-item"><label>Magnolya KaÅŸÄ±ÄŸÄ± (paket)</label><input type="number" name="magnolya_kasik" data-product="Magnolya kaÅŸÄ±ÄŸÄ±"></div>
                            <div class="form-item"><label>Servis Tepsisi (adet)</label><input type="number" name="servis_tepsi" data-product="Servis tepsisi"></div>
                            <div class="form-item"><label>Amerikan Servis (adet)</label><input type="number" name="amerikan_servis" data-product="Amerikan servis"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>â˜• Karton Bardak & Kapaklar</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>Karton Bardak 4 oz (adet)</label><input type="number" name="karton_4oz" data-product="Karton bardak 4 oz"></div>
                            <div class="form-item"><label>Karton Bardak 7 oz (adet)</label><input type="number" name="karton_7oz" data-product="Karton bardak 7 oz"></div>
                            <div class="form-item"><label>Karton Bardak 8 oz (adet)</label><input type="number" name="karton_8oz" data-product="Karton bardak 8 oz"></div>
                            <div class="form-item"><label>Nescafe Bardak KapaÄŸÄ± (adet)</label><input type="number" name="nescafe_kapak" data-product="Nescafe karton bardak kapaÄŸÄ±"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>ğŸ§¤ Hijyen & KiÅŸisel Koruma</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>Lateks Eldiven S (adet)</label><input type="number" name="lateks_s" data-product="Lateks eldiven - S"></div>
                            <div class="form-item"><label>Lateks Eldiven M (adet)</label><input type="number" name="lateks_m" data-product="Lateks eldiven - M"></div>
                            <div class="form-item"><label>Lateks Eldiven L (adet)</label><input type="number" name="lateks_l" data-product="Lateks eldiven - L"></div>
                            <div class="form-item"><label>Islak Mendil (adet)</label><input type="number" name="islak_mendil" data-product="Islak mendil"></div>
                            <div class="form-item"><label>Tek Ã‡ek PeÃ§ete (adet)</label><input type="number" name="tek_cek" data-product="Tek Ã§ek peÃ§ete"></div>
                            <div class="form-item"><label>YanÄ± Kesik KaÄŸÄ±t (adet)</label><input type="number" name="yani_kesik" data-product="yanÄ± kesik kaÄŸÄ±t"></div>
                            <div class="form-item"><label>KÃ¶pÃ¼k Sabun (adet)</label><input type="number" name="kopuk_sabun" data-product="KÃ¶pÃ¼k sabun"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>ğŸ“¦ PoÅŸet & Ambalaj</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>HÄ±ÅŸÄ±r PoÅŸet (paket)</label><input type="number" name="hisir_poset" data-product="HÄ±ÅŸÄ±r poÅŸet"></div>
                            <div class="form-item"><label>Kilitli PoÅŸet (paket)</label><input type="number" name="kilitli_poset" data-product="Kilitli poÅŸet"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>ğŸ§¾ Pos & Kasa Malzemeleri</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>Pos Rulosu KÃ¼Ã§Ã¼k (paket)</label><input type="number" name="pos_kucuk" data-product="Pos rulosu kÃ¼Ã§Ã¼k"></div>
                            <div class="form-item"><label>Pos Rulosu BÃ¼yÃ¼k (paket)</label><input type="number" name="pos_buyuk" data-product="Pos rulosu bÃ¼yÃ¼k"></div>
                        </div>
                    </div>

                    <div class="category-section">
                        <h3>ğŸ´ DiÄŸer ÃœrÃ¼nler</h3>
                        <div class="form-grid">
                            <div class="form-item"><label>TurÅŸu (kova)</label><input type="number" name="tursu" data-product="TurÅŸu"></div>
                            <div class="form-item"><label>Demlik SÃ¼zgeÃ§ (adet)</label><input type="number" name="demlik_suzgec" data-product="Demlik sÃ¼zgeÃ§"></div>
                            <div class="form-item"><label>Sosis (adet)</label><input type="number" name="sosis" data-product="sosis"></div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary load-last">Son SipariÅŸi YÃ¼kle</button>
                        <button type="button" class="btn btn-danger clear-form">Temizle</button>
                        <button type="button" class="btn btn-primary save-order">SipariÅŸi Kaydet</button>
                        <button type="button" class="btn btn-success send-order">WhatsApp'a GÃ¶nder</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // SipariÅŸ Takvimi - Hangi gÃ¼n hangi firmaya sipariÅŸ verilir
        const orderSchedule = {
            ozturkler: { write: [1, 4], delivery: [2, 5] }, // Pzt, PrÅŸ â†’ Sal, Cum
            kasap: { write: [2, 4, 0], delivery: [3, 5, 1] }, // Sal, PrÅŸ, Paz â†’ Ã‡ar, Cum, Pzt
            atikler: { write: [2, 4, 0], delivery: [3, 5, 1] },
            ozgullu: { write: [2, 4, 0], delivery: [3, 5, 1] },
            manav: { write: [2, 4, 0], delivery: [3, 5, 1] },
            seref: { write: [2, 4, 0], delivery: [3, 5, 1] },
            esenler: { write: [2, 4, 0], delivery: [3, 5, 1] },
            altinbasak: { write: [0, 1, 2, 3, 4, 5, 6], delivery: [] }, // Her gÃ¼n yazÄ±labilir
            depo: { write: [2, 4, 0], delivery: [3, 5, 1] }
        };

        // Åubeler listesi
        const branches = [
            'Rumeli Ä°skelesi',
            'Vagon',
            'Sahil',
            'TunaBoyu 1',
            'TunaBoyu 2',
            'Millet BahÃ§esi'
        ];

        // SeÃ§ili ÅŸube
        let selectedBranch = null;

        // Firma isimleri
        const supplierNames = {
            ozturkler: 'Ã–ztÃ¼rkler',
            kasap: 'Kadir Kasap',
            atikler: 'Atikler',
            ozgullu: 'Ã–zgÃ¼llÃ¼',
            manav: 'Manav',
            seref: 'Åeref',
            esenler: 'Esenler',
            altinbasak: 'AltÄ±nbaÅŸak',
            depo: 'Depo SipariÅŸleri'
        };

        // GÃ¼nleri TÃ¼rkÃ§e olarak gÃ¶ster
        const dayNames = ['Pazar', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Cumartesi'];
        const monthNames = ['Ocak', 'Åubat', 'Mart', 'Nisan', 'MayÄ±s', 'Haziran', 
                            'Temmuz', 'AÄŸustos', 'EylÃ¼l', 'Ekim', 'KasÄ±m', 'AralÄ±k'];

        // DOM yÃ¼klendiÄŸinde baÅŸlat
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            console.log('Uygulama baÅŸlatÄ±lÄ±yor...');
            
            // Åube seÃ§imini kontrol et
            checkBranchSelection();
            
            updateDateTime();
            showTodaySuppliers();
            setupTabs();
            setupForms();
            setInterval(updateDateTime, 60000);
        }

        // Åube seÃ§imi kontrolÃ¼
        function checkBranchSelection() {
            console.log('Åube kontrolÃ¼ yapÄ±lÄ±yor...');
            
            // LocalStorage'dan ÅŸubeyi yÃ¼kle
            const savedBranch = localStorage.getItem('selectedBranch');
            
            if (savedBranch && branches.includes(savedBranch)) {
                console.log('KaydedilmiÅŸ ÅŸube bulundu:', savedBranch);
                selectedBranch = savedBranch;
                showSelectedBranch();
                hideBranchModal();
            } else {
                console.log('Åube seÃ§ilmemiÅŸ, modal gÃ¶steriliyor');
                showBranchModal();
            }
        }

        // Åube seÃ§im modalÄ±nÄ± gÃ¶ster
        function showBranchModal() {
            const modal = document.getElementById('branchModal');
            if (modal) {
                modal.classList.remove('hidden');
                
                // Åube butonlarÄ±na event listener ekle
                const branchBtns = document.querySelectorAll('.branch-btn');
                branchBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        const branch = this.getAttribute('data-branch');
                        selectBranch(branch);
                    });
                });
            }
        }

        // Åube seÃ§im modalÄ±nÄ± gizle
        function hideBranchModal() {
            const modal = document.getElementById('branchModal');
            if (modal) {
                modal.classList.add('hidden');
            }
        }

        // Åube seÃ§
        function selectBranch(branch) {
            console.log('Åube seÃ§ildi:', branch);
            selectedBranch = branch;
            
            // LocalStorage'a kaydet
            localStorage.setItem('selectedBranch', branch);
            
            // ModalÄ± kapat
            hideBranchModal();
            
            // SeÃ§ili ÅŸubeyi gÃ¶ster
            showSelectedBranch();
            
            alert('âœ… Åube seÃ§ildi: ' + branch);
        }

        // SeÃ§ili ÅŸubeyi gÃ¶ster
        function showSelectedBranch() {
            const display = document.getElementById('selectedBranchDisplay');
            const branchName = document.getElementById('selectedBranchName');
            
            if (display && branchName) {
                branchName.textContent = selectedBranch;
                display.style.display = 'flex';
            }
        }

        // Åube deÄŸiÅŸtir
        function changeBranch() {
            console.log('Åube deÄŸiÅŸtiriliyor...');
            showBranchModal();
        }

        // KullanÄ±m kÄ±lavuzunu gÃ¶ster
        function showUserGuide() {
            document.getElementById('guideModal').classList.add('show');
        }

        function closeGuideModal() {
            document.getElementById('guideModal').classList.remove('show');
        }

        // Tarih ve saat gÃ¼ncelleme
        function updateDateTime() {
            const now = new Date();
            const day = now.getDate();
            const month = monthNames[now.getMonth()];
            const year = now.getFullYear();
            const dayName = dayNames[now.getDay()];

            document.getElementById('currentDate').textContent = `${day} ${month} ${year}`;
            document.getElementById('currentDay').textContent = dayName;
        }

        // BugÃ¼n sipariÅŸ verilecek firmalarÄ± gÃ¶ster
        function showTodaySuppliers() {
            const today = new Date().getDay();
            const todaySuppliersDiv = document.getElementById('todaySuppliers');
            const suppliers = [];

            for (const [key, schedule] of Object.entries(orderSchedule)) {
                if (schedule.write.includes(today)) {
                    suppliers.push(supplierNames[key]);
                }
            }

            if (suppliers.length > 0) {
                todaySuppliersDiv.innerHTML = `<strong>ğŸ“ ${suppliers.join(', ')}</strong>`;
                document.getElementById('todayAlert').style.display = 'block';
            } else {
                document.getElementById('todayAlert').style.display = 'none';
            }
        }

        // Tab sistemini kur
        function setupTabs() {
            const tabBtns = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');

            tabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    
                    tabBtns.forEach(b => b.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    this.classList.add('active');
                    document.getElementById(tabName).classList.add('active');
                });
            });
        }

        // Form iÅŸlemlerini kur
        function setupForms() {
            console.log('Formlar kuruluyor...');
            const forms = document.querySelectorAll('.order-form');
            console.log('Bulunan form sayÄ±sÄ±:', forms.length);
            
            forms.forEach(form => {
                const supplier = form.getAttribute('data-supplier');
                console.log('Form kuruluyor:', supplier);
                
                // Yeni butonlarÄ± dinamik olarak ekle
                const actionsDiv = form.querySelector('.form-actions');
                if (actionsDiv && !actionsDiv.querySelector('.view-history')) {
                    // GeÃ§miÅŸ butonu ekle
                    const historyBtn = document.createElement('button');
                    historyBtn.type = 'button';
                    historyBtn.className = 'btn btn-info view-history';
                    historyBtn.textContent = 'ğŸ“‹ GeÃ§miÅŸ';
                    historyBtn.addEventListener('click', function() {
                        viewHistory(supplier);
                    });
                    
                    // Favori butonu ekle
                    const favoriteBtn = document.createElement('button');
                    favoriteBtn.type = 'button';
                    favoriteBtn.className = 'btn btn-warning save-favorite';
                    favoriteBtn.textContent = 'â­ Favorilere Ekle';
                    favoriteBtn.addEventListener('click', function() {
                        openFavoriteModal(supplier, form);
                    });
                    
                    // ButonlarÄ± ekle (load-last'tan sonra)
                    const loadBtn = actionsDiv.querySelector('.load-last');
                    if (loadBtn) {
                        loadBtn.textContent = 'ğŸ“¥ ' + loadBtn.textContent.replace('Son SipariÅŸi YÃ¼kle', 'Son SipariÅŸi YÃ¼kle');
                        loadBtn.after(historyBtn);
                        historyBtn.after(favoriteBtn);
                    }
                    
                    // DiÄŸer butonlara da emoji ekle
                    const clearBtn = actionsDiv.querySelector('.clear-form');
                    if (clearBtn && !clearBtn.textContent.includes('ğŸ—‘ï¸')) {
                        clearBtn.textContent = 'ğŸ—‘ï¸ Temizle';
                    }
                    
                    const saveBtn = actionsDiv.querySelector('.save-order');
                    if (saveBtn && !saveBtn.textContent.includes('ğŸ’¾')) {
                        saveBtn.textContent = 'ğŸ’¾ SipariÅŸi Kaydet';
                    }
                    
                    const sendBtn = actionsDiv.querySelector('.send-order');
                    if (sendBtn && !sendBtn.textContent.includes('ğŸ“±')) {
                        sendBtn.textContent = 'ğŸ“± WhatsApp\'a GÃ¶nder';
                    }
                }
                
                // Son sipariÅŸi yÃ¼kle
                const loadBtn = form.querySelector('.load-last');
                if (loadBtn) {
                    loadBtn.addEventListener('click', function() {
                        console.log('Load butonu tÄ±klandÄ±');
                        loadLastOrder(supplier, form);
                    });
                }
                
                // Formu temizle
                const clearBtn = form.querySelector('.clear-form');
                if (clearBtn) {
                    clearBtn.addEventListener('click', function() {
                        console.log('Clear butonu tÄ±klandÄ±');
                        clearForm(form);
                    });
                }
                
                // SipariÅŸi kaydet
                const saveBtn = form.querySelector('.save-order');
                if (saveBtn) {
                    saveBtn.addEventListener('click', function() {
                        console.log('Save butonu tÄ±klandÄ±');
                        saveOrder(supplier, form);
                    });
                }
                
                // WhatsApp'a gÃ¶nder
                const sendBtn = form.querySelector('.send-order');
                if (sendBtn) {
                    sendBtn.addEventListener('click', function() {
                        console.log('Send butonu tÄ±klandÄ±');
                        sendToWhatsApp(supplier, form);
                    });
                }
            });
            
            console.log('Formlar kuruldu!');
            loadFavorites(); // Favorileri yÃ¼kle
        }

        // Son sipariÅŸi yÃ¼kle
        function loadLastOrder(supplier, form) {
            const lastOrder = localStorage.getItem(`lastOrder_${supplier}`);
            
            if (lastOrder) {
                const orderData = JSON.parse(lastOrder);
                const inputs = form.querySelectorAll('input[type="number"]');
                
                inputs.forEach(input => {
                    const name = input.getAttribute('name');
                    if (orderData[name]) {
                        input.value = orderData[name];
                    }
                });
                
                showSuccessMessage('Son sipariÅŸ yÃ¼klendi! âœ…');
            } else {
                showSuccessMessage('KaydedilmiÅŸ sipariÅŸ bulunamadÄ±.', 'warning');
            }
        }

        // Formu temizle
        function clearForm(form) {
            const inputs = form.querySelectorAll('input[type="number"]');
            inputs.forEach(input => {
                input.value = '';
            });
            showSuccessMessage('Form temizlendi! ğŸ—‘ï¸', 'info');
        }

        // SipariÅŸi kaydet
        function saveOrder(supplier, form) {
            try {
                console.log('Kaydet butonuna basÄ±ldÄ±:', supplier);
                const orderData = {};
                const inputs = form.querySelectorAll('input[type="number"]');
                let hasData = false;
                
                inputs.forEach(input => {
                    if (input.value && parseFloat(input.value) > 0) {
                        orderData[input.getAttribute('name')] = input.value;
                        hasData = true;
                    }
                });
                
                console.log('SipariÅŸ verisi:', orderData);
                
                if (!hasData) {
                    alert('âš ï¸ LÃ¼tfen en az bir Ã¼rÃ¼n miktarÄ± girin!');
                    showSuccessMessage('LÃ¼tfen en az bir Ã¼rÃ¼n miktarÄ± girin!', 'warning');
                    return;
                }
                
                // LocalStorage test
                try {
                    localStorage.setItem(`lastOrder_${supplier}`, JSON.stringify(orderData));
                    saveToHistory(supplier, orderData);
                    console.log('LocalStorage baÅŸarÄ±lÄ±');
                } catch (e) {
                    console.error('LocalStorage hatasÄ±:', e);
                    alert('âš ï¸ Veri kaydedilemedi. TarayÄ±cÄ± ayarlarÄ±nÄ± kontrol edin.');
                }
                
                alert('âœ… SipariÅŸ kaydedildi!');
                showSuccessMessage('SipariÅŸ kaydedildi! âœ…');
            } catch (error) {
                console.error('Kaydetme hatasÄ±:', error);
                alert('âŒ Hata: ' + error.message);
            }
        }

        // SipariÅŸ geÃ§miÅŸine kaydet
        function saveToHistory(supplier, orderData) {
            const history = JSON.parse(localStorage.getItem('orderHistory') || '[]');
            
            history.unshift({
                supplier: supplier,
                supplierName: supplierNames[supplier],
                date: new Date().toISOString(),
                data: orderData
            });
            
            if (history.length > 50) {
                history.pop();
            }
            
            localStorage.setItem('orderHistory', JSON.stringify(history));
        }

        // WhatsApp'a gÃ¶nder
        function sendToWhatsApp(supplier, form) {
            try {
                console.log('WhatsApp butonuna basÄ±ldÄ±:', supplier);
                
                // Åube kontrolÃ¼
                if (!selectedBranch) {
                    alert('âš ï¸ LÃ¼tfen Ã¶nce ÅŸube seÃ§in!');
                    showBranchModal();
                    return;
                }
                
                const orderData = [];
                const inputs = form.querySelectorAll('input[type="number"]');
                let hasData = false;
                
                inputs.forEach(input => {
                    if (input.value && parseFloat(input.value) > 0) {
                        const productName = input.getAttribute('data-product');
                        const unit = input.getAttribute('data-unit') || extractUnit(input);
                        orderData.push({
                            product: productName,
                            quantity: input.value,
                            unit: unit
                        });
                        hasData = true;
                    }
                });
                
                console.log('SipariÅŸ verisi:', orderData);
                
                if (!hasData) {
                    alert('âš ï¸ LÃ¼tfen en az bir Ã¼rÃ¼n miktarÄ± girin!');
                    showSuccessMessage('LÃ¼tfen en az bir Ã¼rÃ¼n miktarÄ± girin!', 'warning');
                    return;
                }
                
                let message = `*${selectedBranch} ${supplierNames[supplier]}*\n\n`;
                
                orderData.forEach(item => {
                    const emoji = getProductEmoji(item.product);
                    message += `${emoji} ${item.product}: ${item.quantity} ${item.unit}\n`;
                });
                
                console.log('Mesaj hazÄ±r:', message);
                
                // WhatsApp URL'si oluÅŸtur
                const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
                
                console.log('WhatsApp aÃ§Ä±lÄ±yor...');
                alert('ğŸ“± WhatsApp aÃ§Ä±lÄ±yor...');
                
                // Yeni pencerede WhatsApp'Ä± aÃ§
                const opened = window.open(whatsappUrl, '_blank');
                
                if (!opened) {
                    // Popup engellenmiÅŸ olabilir
                    console.log('Popup engellendi, link kopyalanÄ±yor...');
                    alert('âš ï¸ Popup engellendi! MesajÄ± kopyalayÄ±p WhatsApp\'a yapÄ±ÅŸtÄ±rÄ±n:\n\n' + message);
                }
                
                showSuccessMessage('WhatsApp aÃ§Ä±lÄ±yor... ğŸ“±');
            } catch (error) {
                console.error('WhatsApp hatasÄ±:', error);
                alert('âŒ Hata: ' + error.message);
            }
        }

        // Label'dan birimi Ã§Ä±kar (data-unit yoksa)
        function extractUnit(input) {
            const label = input.closest('.form-item').querySelector('label').textContent;
            const match = label.match(/\(([^)]+)\)/);
            return match ? match[1] : '';
        }

        // ÃœrÃ¼ne gÃ¶re emoji seÃ§
        function getProductEmoji(productName) {
            const emojiMap = {
                // Ã–ztÃ¼rkler
                'Patates kÄ±zartmasÄ±': 'ğŸŸ',
                'Beyaz peynir': 'ğŸ§€',
                'KahvaltÄ±lÄ±k KaÅŸar': 'ğŸ§€',
                'Tostluk kaÅŸar': 'ğŸ§€',
                'Hindi fÃ¼me salam': 'ğŸ¥©',
                'TereyaÄŸ': 'ğŸ§ˆ',
                'Margarin': 'ğŸ§ˆ',
                'Stick ketÃ§ap': 'ğŸ…',
                'Stick mayonez': 'ğŸ¥«',
                'Kova ketÃ§ap': 'ğŸ…',
                'Kova mayonez': 'ğŸ¥«',
                'SÃ¼t': 'ğŸ¥›',
                'Piknik tereyaÄŸ': 'ğŸ§ˆ',
                'Piknik Bal': 'ğŸ¯',
                'Piknik reÃ§el': 'ğŸ“',
                'Piknik fÄ±ndÄ±k kremasÄ±': 'ğŸŒ°',
                'Lutenitsa': 'ğŸ«‘',
                
                // Kadir Kasap
                'Hamburger kÃ¶ftesi': 'ğŸ”',
                'Tostluk sucuk': 'ğŸŒ­',
                'KahvaltÄ±lÄ±k sucuk': 'ğŸŒ­',
                
                // Atikler
                'Yumurta': 'ğŸ¥š',
                
                // Ã–zgÃ¼llÃ¼
                'Ayran': 'ğŸ¥›',
                
                // Manav
                'Domates': 'ğŸ…',
                'SalatalÄ±k': 'ğŸ¥’',
                'KÄ±vÄ±rcÄ±k': 'ğŸ¥¬',
                'Limon': 'ğŸ‹',
                'SoÄŸan': 'ğŸ§…',
                
                // Åeref
                'Peynir helvasÄ±': 'ğŸ°',
                
                // Esenler
                'Hamburger ekmeÄŸi': 'ğŸ”',
                
                // AltÄ±nbaÅŸak
                'Sosisli ekmeÄŸi': 'ğŸŒ­',
                
                // Depo - Ekmek & Ã‡ay
                'Tost ekmeÄŸi': 'ğŸ',
                'Ã‡ay': 'â˜•',
                'Stick ÅŸeker': 'ğŸ¬',
                'Stick tuz': 'ğŸ§‚',
                'Sigara bÃ¶reÄŸi': 'ğŸ¥Ÿ',
                
                // Depo - Su & Ä°Ã§ecekler
                'Bardak su': 'ğŸ’§',
                'Damacana su': 'ğŸ’§',
                'Fuse tea karpuz': 'ğŸ‰',
                'Fuse tea limon': 'ğŸ‹',
                'Fuse tea mango': 'ğŸ¥­',
                'Fuse tea ÅŸeftali': 'ğŸ‘',
                'ÃœzÃ¼m suyu': 'ğŸ‡',
                'Hardaliye': 'ğŸ‡',
                'Coca cola kutu': 'ğŸ¥¤',
                'Coca cola ÅŸiÅŸe': 'ğŸ¥¤',
                'Sade soda': 'ğŸ¥¤',
                'Karpuz Ã§ilek soda': 'ğŸ“',
                'Limonlu soda': 'ğŸ‹',
                'ElmalÄ± soda': 'ğŸ',
                'Limonata': 'ğŸ‹',
                
                // Depo - Meyve SularÄ±
                'Cappy kutu ÅŸeftali': 'ğŸ‘',
                'Cappy kutu viÅŸne': 'ğŸ’',
                'Cappy kutu kayÄ±sÄ±': 'ğŸŠ',
                'Cappy kutu portakal': 'ğŸŠ',
                'Cappy kutu karÄ±ÅŸÄ±k': 'ğŸ§ƒ',
                'Poli kivi': 'ğŸ¥',
                'Poli karadut': 'ğŸ«',
                'Poli portakal': 'ğŸŠ',
                'Poli kuÅŸburnu': 'ğŸŒ¹',
                'Poli elma': 'ğŸ',
                'Poli nane limon': 'ğŸ‹',
                
                // Depo - Kahve
                'TÃ¼rk kahvesi': 'â˜•',
                'Kesme ÅŸeker': 'ğŸ¬',
                'Nescafe express vanilia': 'â˜•',
                'Nescafe express orjinal': 'â˜•',
                'Nescafe express latte': 'â˜•',
                'Nescafe express choco': 'â˜•',
                'Nescafe express americano': 'â˜•',
                'Nescafe intense': 'â˜•',
                'Nescafe sÃ¼tlÃ¼': 'â˜•',
                'Nescafe caramel': 'â˜•',
                'Nescafe vanilya': 'â˜•',
                'SÄ±cak Ã‡ikolata': 'â˜•',
                'Nescafe Superiore': 'â˜•',
                'Nescafe Milky creamer': 'â˜•',
                'Nescafe sÄ±cak Ã§ikolata': 'â˜•',
                'Nescafe cappucino vanilya': 'â˜•',
                
                // Depo - Temizlik
                'BulaÅŸÄ±k makinesi parlatÄ±cÄ±sÄ±': 'ğŸ§¼',
                'BulaÅŸÄ±k makinesi deterjanÄ±': 'ğŸ§¼',
                'Ã‡amaÅŸÄ±r suyu': 'ğŸ§´',
                'Wc rulo havlu kaÄŸÄ±t': 'ğŸ§»',
                'SarÄ± gÃ¼Ã§': 'ğŸ§½',
                'Camsil': 'ğŸ§´',
                'PorÃ§Ã¶z': 'ğŸ§½',
                'Temizlik bezi': 'ğŸ§½',
                'Vileda paspasÄ±': 'ğŸ§¹',
                'Mob paspasÄ±': 'ğŸ§¹',
                'BulaÅŸÄ±k teli': 'ğŸ§½',
                'BulaÅŸÄ±k sÃ¼ngeri': 'ğŸ§½',
                
                // Depo - Sofra Malzemeleri
                'ÃœstÃ¼bÃ¼': 'ğŸ´',
                'Ã‡ips Ã§atalÄ±': 'ğŸ´',
                'Servis peÃ§etesi': 'ğŸ§»',
                'Ã‡ay bardaÄŸÄ±': 'â˜•',
                'Ã‡ay kaÅŸÄ±ÄŸÄ±': 'ğŸ¥„',
                'Ã‡ay altlÄ±ÄŸÄ±': 'â˜•',
                'TÃ¼rk kahvesi fincanÄ±': 'â˜•',
                'KÃ¶pÃ¼k tabak': 'ğŸ½ï¸',
                'Plastik Ã§atal': 'ğŸ´',
                'Magnolya kaÅŸÄ±ÄŸÄ±': 'ğŸ¥„',
                'Servis tepsisi': 'ğŸ½ï¸',
                'Amerikan servis': 'ğŸ½ï¸',
                'Karton bardak 4 oz': 'ğŸ¥¤',
                'Karton bardak 7 oz': 'ğŸ¥¤',
                'Karton bardak 8 oz': 'ğŸ¥¤',
                'Nescafe karton bardak kapaÄŸÄ±': 'ğŸ¥¤',
                
                // Depo - Hijyen
                'Lateks eldiven - S': 'ğŸ§¤',
                'Lateks eldiven - M': 'ğŸ§¤',
                'Lateks eldiven - L': 'ğŸ§¤',
                'Islak mendil': 'ğŸ§»',
                'Tek Ã§ek peÃ§ete': 'ğŸ§»',
                'yanÄ± kesik kaÄŸÄ±t': 'ğŸ§»',
                'KÃ¶pÃ¼k sabun': 'ğŸ§¼',
                
                // Depo - Ambalaj
                'HÄ±ÅŸÄ±r poÅŸet': 'ğŸ›ï¸',
                'Kilitli poÅŸet': 'ğŸ›ï¸',
                'Pos rulosu kÃ¼Ã§Ã¼k': 'ğŸ§¾',
                'Pos rulosu bÃ¼yÃ¼k': 'ğŸ§¾',
                
                // Depo - DiÄŸer
                'TurÅŸu': 'ğŸ¥’',
                'Demlik sÃ¼zgeÃ§': 'â˜•',
                'sosis': 'ğŸŒ­'
            };
            
            return emojiMap[productName] || 'ğŸ“¦';
        }

        // BaÅŸarÄ± mesajÄ± gÃ¶ster
        function showSuccessMessage(message, type = 'success') {
            const existingMessage = document.querySelector('.success-message');
            if (existingMessage) {
                existingMessage.remove();
            }
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'success-message';
            messageDiv.textContent = message;
            
            if (type === 'warning') {
                messageDiv.style.backgroundColor = '#f59e0b';
            } else if (type === 'info') {
                messageDiv.style.backgroundColor = '#3b82f6';
            }
            
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 3000);
        }

        // Klavye kÄ±sayollarÄ±
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                const activeTab = document.querySelector('.tab-content.active');
                const form = activeTab.querySelector('.order-form');
                const supplier = form.getAttribute('data-supplier');
                saveOrder(supplier, form);
            }
        });

        // ===== YENÄ° Ã–ZELLÄ°KLER =====

        // SipariÅŸ GeÃ§miÅŸini GÃ¶rÃ¼ntÃ¼le
        function viewHistory(supplier) {
            const history = JSON.parse(localStorage.getItem('orderHistory') || '[]');
            const supplierHistory = history.filter(item => item.supplier === supplier).slice(0, 10);
            
            const modal = document.getElementById('historyModal');
            const listDiv = document.getElementById('historyList');
            
            if (supplierHistory.length === 0) {
                listDiv.innerHTML = '<p style="color: #64748b;">HenÃ¼z sipariÅŸ geÃ§miÅŸi yok.</p>';
            } else {
                let html = '';
                supplierHistory.forEach((item, index) => {
                    const date = new Date(item.date);
                    const dateStr = date.toLocaleDateString('tr-TR') + ' ' + date.toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' });
                    
                    let products = '';
                    let count = 0;
                    for (const [key, value] of Object.entries(item.data)) {
                        if (count < 3) {
                            products += `${key.replace(/_/g, ' ')}: ${value}, `;
                            count++;
                        }
                    }
                    products = products.slice(0, -2);
                    if (Object.keys(item.data).length > 3) {
                        products += `... (+${Object.keys(item.data).length - 3} Ã¼rÃ¼n)`;
                    }
                    
                    html += `
                        <div class="history-item" onclick="loadHistoryOrder('${supplier}', ${index})">
                            <div class="history-date">${dateStr}</div>
                            <div class="history-products">${products}</div>
                        </div>
                    `;
                });
                listDiv.innerHTML = html;
            }
            
            modal.classList.add('show');
        }

        function closeHistoryModal() {
            document.getElementById('historyModal').classList.remove('show');
        }

        function loadHistoryOrder(supplier, index) {
            const history = JSON.parse(localStorage.getItem('orderHistory') || '[]');
            const supplierHistory = history.filter(item => item.supplier === supplier);
            const orderData = supplierHistory[index].data;
            
            const form = document.querySelector(`[data-supplier="${supplier}"]`);
            const inputs = form.querySelectorAll('input[type="number"]');
            
            inputs.forEach(input => {
                const name = input.getAttribute('name');
                input.value = orderData[name] || '';
            });
            
            closeHistoryModal();
            alert('âœ… GeÃ§miÅŸ sipariÅŸ yÃ¼klendi!');
        }

        // Favori SipariÅŸler
        let currentFavoriteData = null;

        function openFavoriteModal(supplier, form) {
            const orderData = {};
            const inputs = form.querySelectorAll('input[type="number"]');
            let hasData = false;
            
            inputs.forEach(input => {
                if (input.value && parseFloat(input.value) > 0) {
                    orderData[input.getAttribute('name')] = input.value;
                    hasData = true;
                }
            });
            
            if (!hasData) {
                alert('âš ï¸ LÃ¼tfen Ã¶nce sipariÅŸ girin!');
                return;
            }
            
            currentFavoriteData = { supplier, data: orderData };
            document.getElementById('favoriteName').value = '';
            document.getElementById('favoriteModal').classList.add('show');
        }

        function closeFavoriteModal() {
            document.getElementById('favoriteModal').classList.remove('show');
            currentFavoriteData = null;
        }

        function saveFavoriteOrder() {
            const name = document.getElementById('favoriteName').value.trim();
            
            if (!name) {
                alert('âš ï¸ LÃ¼tfen bir isim girin!');
                return;
            }
            
            if (!currentFavoriteData) {
                alert('âŒ Hata oluÅŸtu!');
                return;
            }
            
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            
            if (favorites.length >= 5) {
                alert('âš ï¸ En fazla 5 favori kaydedebilirsiniz!');
                return;
            }
            
            favorites.push({
                id: Date.now(),
                name: name,
                supplier: currentFavoriteData.supplier,
                supplierName: supplierNames[currentFavoriteData.supplier],
                data: currentFavoriteData.data
            });
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
            closeFavoriteModal();
            loadFavorites();
            alert('âœ… Favori kaydedildi: ' + name);
        }

        function loadFavorites() {
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const section = document.getElementById('favoritesSection');
            const listDiv = document.getElementById('favoritesList');
            
            if (favorites.length === 0) {
                section.style.display = 'none';
                return;
            }
            
            section.style.display = 'block';
            let html = '';
            
            favorites.forEach(fav => {
                html += `
                    <button class="btn btn-warning" onclick="loadFavoriteOrder(${fav.id})" style="margin: 0.25rem;">
                        â­ ${fav.name}
                    </button>
                `;
            });
            
            html += `
                <button class="btn btn-danger" onclick="manageFavorites()" style="margin: 0.25rem;">
                    ğŸ—‘ï¸ YÃ¶net
                </button>
            `;
            
            listDiv.innerHTML = html;
        }

        function loadFavoriteOrder(favId) {
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const favorite = favorites.find(f => f.id === favId);
            
            if (!favorite) {
                alert('âŒ Favori bulunamadÄ±!');
                return;
            }
            
            // Ä°lgili tab'Ä± aÃ§
            const tabBtn = document.querySelector(`[data-tab="${favorite.supplier}"]`);
            if (tabBtn) {
                tabBtn.click();
            }
            
            // SipariÅŸi yÃ¼kle
            setTimeout(() => {
                const form = document.querySelector(`[data-supplier="${favorite.supplier}"]`);
                const inputs = form.querySelectorAll('input[type="number"]');
                
                inputs.forEach(input => {
                    const name = input.getAttribute('name');
                    input.value = favorite.data[name] || '';
                });
                
                alert(`âœ… "${favorite.name}" favorisi yÃ¼klendi!`);
            }, 100);
        }

        function manageFavorites() {
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            
            if (favorites.length === 0) {
                alert('Favori sipariÅŸiniz yok!');
                return;
            }
            
            let message = 'Silmek istediÄŸiniz favoriyi seÃ§in:\n\n';
            favorites.forEach((fav, index) => {
                message += `${index + 1}. ${fav.name} (${fav.supplierName})\n`;
            });
            message += '\nSilmek iÃ§in numarayÄ± yazÄ±n (Ä°ptal iÃ§in 0):';
            
            const choice = prompt(message);
            
            if (choice && choice !== '0') {
                const index = parseInt(choice) - 1;
                if (index >= 0 && index < favorites.length) {
                    if (confirm(`"${favorites[index].name}" favorisini silmek istediÄŸinize emin misiniz?`)) {
                        favorites.splice(index, 1);
                        localStorage.setItem('favorites', JSON.stringify(favorites));
                        loadFavorites();
                        alert('âœ… Favori silindi!');
                    }
                }
            }
        }

        // HatÄ±rlatÄ±cÄ± Sistemi
        function checkAndNotify() {
            // TarayÄ±cÄ± bildirim izni iste
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission();
            }
            
            const today = new Date().getDay();
            const hour = new Date().getHours();
            
            // Sabah 9'da hatÄ±rlatÄ±cÄ±
            if (hour === 9) {
                const suppliers = [];
                for (const [key, schedule] of Object.entries(orderSchedule)) {
                    if (schedule.write.includes(today)) {
                        suppliers.push(supplierNames[key]);
                    }
                }
                
                if (suppliers.length > 0 && Notification.permission === 'granted') {
                    new Notification('ğŸ“¦ SipariÅŸ HatÄ±rlatÄ±cÄ±sÄ±', {
                        body: `BugÃ¼n ÅŸu firmalara sipariÅŸ verin: ${suppliers.join(', ')}`,
                        icon: '/favicon.ico'
                    });
                }
            }
        }

        // Her saat kontrol et
        setInterval(checkAndNotify, 3600000);
        checkAndNotify(); // Ä°lk yÃ¼klemede de kontrol et

        // Input validasyonu
        document.querySelectorAll('input[type="number"]').forEach(input => {
            input.addEventListener('input', function() {
                if (this.value < 0) {
                    this.value = 0;
                }
            });
        });

        // Mobil menÃ¼ kaydÄ±rma
        const tabs = document.querySelector('.tabs');
        if (tabs) {
            tabs.addEventListener('wheel', function(e) {
                if (e.deltaY !== 0) {
                    e.preventDefault();
                    tabs.scrollLeft += e.deltaY;
                }
            });
        }

        // Touch swipe
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const activeTab = document.querySelector('.tab-btn.active');
            const allTabs = Array.from(document.querySelectorAll('.tab-btn'));
            const currentIndex = allTabs.indexOf(activeTab);
            
            if (touchEndX < touchStartX - swipeThreshold && currentIndex < allTabs.length - 1) {
                allTabs[currentIndex + 1].click();
            }
            
            if (touchEndX > touchStartX + swipeThreshold && currentIndex > 0) {
                allTabs[currentIndex - 1].click();
            }
        }
    </script>
</body>
</html>
